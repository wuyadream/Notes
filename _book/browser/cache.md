# Web缓存

Web缓存是指一个Web资源（如HTML页面，图片，css，js等）存在于Web服务器和客户端之间的副本。缓存会根据进来的请求保存输出内容的副本；当下一个请求来到的时候，如果是相同的URL，缓存会根据缓存机制决定是直接使用副本响应还是向源服务器再次发送请求。

## Web缓存的作用

Web缓存的作用是显而易见的：

```
（一）减少网络带宽消耗。
（二）降低服务器压力。
（三）减少网络延迟，加快页面打开的速度。
```

## Web缓存的类型

#### 数据库缓存

如果频繁地进行数据库的查询，很可能导致数据库不堪重负。为了提供查询的性能，会将查询后的数据放到内存中进行缓存，下次查询时，直接从内存缓存返回，提高响应效率。

#### 代理服务器端缓存

代理服务器是浏览器和源服务器之间的中间服务器，浏览器先向这个中间服务器发起Web请求，经过处理后，再讲请求转发给源服务器。代理服务器的运作原理跟浏览器差不多，只是规模更大，可以看做是一个共享缓存，不只为一个用户服务，一般为大量用户提供服务。

#### CDN缓存

CDN缓存一般是由网站管理员自己部署，为了让他们的网站更容易扩展并获得更好的性能。浏览器先向CDN网关发起Web请求，网关服务器后面对应着一台或多台负载均衡服务器，会根据他们的负载请求，动态将请求转发到合适的源服务器上。虽然这种架构负载均衡源服务器之间的缓存没法共享，但却拥有更好的扩展性。从浏览器角度来看，整个CDN就是一个源服务器，从这个层面来说，浏览器和服务器之间的缓存机制，在这种架构下同样适用。

#### 浏览器端缓存

浏览器缓存根据一套与服务器约定的规则进行工作，在同一个会话过程中检查一次并确定缓存的副本足够新。

#### Web应用层缓存

应用层缓存指的是从代码层面上，通过代码逻辑和缓存策略，实现对数据、页面、图片等资源的缓存，可以根据实际情况选择将数据存在文件系统或者内存中，减少数据库查询或者读写瓶颈，提高响应效率。

## Web浏览器的缓存机制

详见[浏览器缓存机制](../network/http.md)

## 参考文献

[Web缓存系列](http://www.alloyteam.com/2012/03/web-cache-1-web-cache-overview/)